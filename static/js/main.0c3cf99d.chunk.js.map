{"version":3,"sources":["../../dist/types/index.js","App.module.css","../../dist/types/provider.js","../../dist/FusionProvider.js","../../dist/utils/useFusionContext.js","../../dist/elements/Modal.js","../../dist/mappers/ModalMapper.js","../../dist/FusionContainer.js","App.tsx","../../dist/hooks/useModal.js","index.tsx"],"names":["module","exports","ActionType","__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","initialState","modals","modalClassNames","undefined","reducer","state","action","type","ADD_MODAL","Object","assign","payload","REMOVE_MODAL","filter","modal","id","FusionContext","React","FusionProvider","_a","children","_b","dispatch","Provider","value","useFusionContext","__assign","t","n","p","prototype","hasOwnProperty","call","apply","this","Modal","_c","component","config","_d","isAnimationDone","setIsAnimationDone","_e","isClosing","setIsClosing","_f","closeModal","className","container","style","position","top","left","display","justifyContent","alignItems","width","height","cursor","autoclose","onClick","e","target","dataset","closeIfContainer","props","ModalMapper","map","key","FusionContainer","resizeOps","document","documentElement","setProperty","window","innerHeight","addEventListener","text","Home","Date","getTime","toString","useModal","App","css","modalContainer","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0c3cf99d.chunk.js","sourcesContent":["export * from \"./provider\";\r\nexport * from \"./container\";\r\nexport * from \"./modal\";\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContainer\":\"App_modalContainer__i9teR\",\"modal\":\"App_modal__24XAH\"};","export var ActionType;\r\n(function (ActionType) {\r\n    ActionType[ActionType[\"ADD_MODAL\"] = 0] = \"ADD_MODAL\";\r\n    ActionType[ActionType[\"REMOVE_MODAL\"] = 1] = \"REMOVE_MODAL\";\r\n})(ActionType || (ActionType = {}));\r\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport * as React from \"react\";\r\nimport { ActionType } from \"./types\";\r\nvar initialState = {\r\n    modals: [],\r\n    modalClassNames: undefined\r\n};\r\nfunction reducer(state, action) {\r\n    switch (action.type) {\r\n        case ActionType.ADD_MODAL:\r\n            return Object.assign({}, state, {\r\n                modals: __spreadArrays(state.modals, [action.payload])\r\n            });\r\n        case ActionType.REMOVE_MODAL:\r\n            return Object.assign({}, state, {\r\n                modals: state.modals.filter(function (modal) { return modal.id !== action.payload; })\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport var FusionContext = React.createContext({});\r\nexport var FusionProvider = function (_a) {\r\n    var children = _a.children, modalClassNames = _a.modalClassNames;\r\n    initialState.modalClassNames = modalClassNames;\r\n    var _b = React.useReducer(reducer, initialState), state = _b[0], dispatch = _b[1];\r\n    return React.createElement(FusionContext.Provider, { value: { state: state, dispatch: dispatch } }, children);\r\n};\r\n","import * as React from \"react\";\r\nimport { FusionContext } from \"../FusionProvider\";\r\nexport var useFusionContext = function () {\r\n    var context = React.useContext(FusionContext);\r\n    return context;\r\n};\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport * as React from \"react\";\r\nimport { useFusionContext } from \"../utils\";\r\nimport { ActionType } from \"../types\";\r\nexport var Modal = function (_a) {\r\n    var _b, _c;\r\n    var id = _a.id, component = _a.component, config = _a.config;\r\n    var _d = React.useState(false), isAnimationDone = _d[0], setIsAnimationDone = _d[1];\r\n    var _e = React.useState(false), isClosing = _e[0], setIsClosing = _e[1];\r\n    var _f = useFusionContext(), state = _f.state, dispatch = _f.dispatch;\r\n    React.useEffect(function () {\r\n        setIsAnimationDone(true);\r\n    }, []);\r\n    var closeModal = function () {\r\n        setIsClosing(true);\r\n        dispatch({ type: ActionType.REMOVE_MODAL, payload: id });\r\n    };\r\n    var closeIfContainer = function (e) {\r\n        if (e.target.dataset.autoclose === \"true\") {\r\n            closeModal();\r\n        }\r\n    };\r\n    return (React.createElement(\"div\", { className: (_b = state.modalClassNames) === null || _b === void 0 ? void 0 : _b.container, style: {\r\n            position: \"fixed\",\r\n            top: 0,\r\n            left: 0,\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"100vw\",\r\n            height: \"calc(var(--fusion-vh, 1vh) * 100)\",\r\n            cursor: (config === null || config === void 0 ? void 0 : config.autoclose) ? \"pointer\" : undefined\r\n        }, onClick: (config === null || config === void 0 ? void 0 : config.autoclose) ? function (e) { return closeIfContainer(e); } : undefined, \"data-autoclose\": config === null || config === void 0 ? void 0 : config.autoclose },\r\n        React.createElement(\"div\", { className: (_c = state.modalClassNames) === null || _c === void 0 ? void 0 : _c.modal, style: { cursor: \"default\" } }, React.useMemo(function () {\r\n            return React.createElement(component, __assign({ closeModal: closeModal,\r\n                isAnimationDone: isAnimationDone,\r\n                isClosing: isClosing }, config === null || config === void 0 ? void 0 : config.props));\r\n        }, [component, isAnimationDone, isClosing]))));\r\n};\r\n","import * as React from \"react\";\r\nimport { Modal } from \"../elements\";\r\nimport { useFusionContext } from \"../utils\";\r\nexport var ModalMapper = function () {\r\n    var modals = useFusionContext().state.modals;\r\n    return (React.createElement(React.Fragment, null, modals.map(function (modal) { return (React.createElement(Modal, { key: modal.id, id: modal.id, component: modal.component, config: modal.config })); })));\r\n};\r\n","import * as React from \"react\";\r\nimport { FusionProvider } from \"./FusionProvider\";\r\nimport { ModalMapper } from \"./mappers\";\r\nexport var FusionContainer = function (_a) {\r\n    var children = _a.children, modalClassNames = _a.modalClassNames;\r\n    React.useEffect(function () {\r\n        var resizeOps = function () {\r\n            document.documentElement.style.setProperty(\"--fusion-vh\", window.innerHeight * 0.01 + \"px\");\r\n        };\r\n        resizeOps();\r\n        window.addEventListener(\"resize\", resizeOps);\r\n    });\r\n    return (React.createElement(FusionProvider, { modalClassNames: modalClassNames },\r\n        children,\r\n        React.createElement(ModalMapper, null)));\r\n};\r\n","import * as React from \"react\";\nimport { FusionContainer, useModal, FusionModalComponent } from \"react-fusionui\";\nimport css from \"./App.module.css\";\n\nconst Modal: FusionModalComponent<{ text?: string }> = ({ text }) => {\n  return <h1>{text ? text : \"No text.\"}</h1>;\n};\n\nconst Home: React.FC = () => {\n  const modal = useModal();\n\n  return <h3 onClick={() => modal(Modal, { autoclose: true, props: { text: \"Hello!\" } })}>Open Modal</h3>;\n};\n\nexport default function App() {\n  return (\n    <FusionContainer\n      modalClassNames={{\n        container: css.modalContainer,\n        modal: css.modal\n      }}\n    >\n      <Home />\n    </FusionContainer>\n  );\n}\n","import { useFusionContext } from \"../utils\";\r\nimport { ActionType } from \"../types\";\r\nexport var useModal = function () {\r\n    var dispatch = useFusionContext().dispatch;\r\n    return function (component, config) {\r\n        var id = \"modal-\" + new Date().getTime().toString();\r\n        var payload = { id: id, component: component, config: config };\r\n        dispatch({ type: ActionType.ADD_MODAL, payload: payload });\r\n    };\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}